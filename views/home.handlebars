{{! Use the main layout }}
{{!< main }}

{{! New Post Submission Form }}
<section class="content-container">
    {{#if loggedIn}}
        <!-- show the create post form when logged in -->
        <h1>Create a New Post</h1>
        <section class="post-form">
            <form action="/posts" method="POST">
                <!-- title input field name = "title" -->
                <div class="form-group">
                    <input type="text" id="title" name="title" placeholder="Title" oninput="updateLabel('title-label', this.value)" required>
                </div>
                <!-- text area input field name = "content" -->
                <div class="form-group">
                    <textarea id="content" name="content" placeholder="Content" oninput="updateLabel('content-label',this.value)" required></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="emoji-button" onclick="toggleEmojiPanel()">ðŸ˜€</button>
                    <button type="submit" class="post-button">Post</button>
                </div>
            </form>

            <div id="emoji-container" class="emoji-panel" style="display: none;">
                <input type="text" id="emoji-search" placeholder="Search emojis..." oninput="searchEmojis()">
                <div id="emoji-grid"></div>
                <div class="pagination">
                    <button id="prev-page" onclick="prevPage()">Prev</button>
                    <button id="next-page" onclick="nextPage()">Next</button>
                </div>
            </div>
        </section>
    {{/if}}

    <section class="posts-list">
        <!-- recent posts -->
        <h1>Recent Posts</h1>
        {{#if posts.length}}
        <ul>
            {{#each posts}}
                {{> post this user=../user}}            
            {{/each}}
        </ul>
        {{else}}
            <p>No posts.</p>
        {{/if}}
    </section>
</section>

{{! JavaScript for Emoji Integration }}
<script>

let allEmojis = [
    { character: 'ðŸ˜€', slug: 'grinning-face' },
    { character: 'ðŸ˜ƒ', slug: 'grinning-face-with-big-eyes' },
    { character: 'ðŸ˜„', slug: 'grinning-face-with-smiling-eyes' },
    { character: 'ðŸ˜', slug: 'beaming-face-with-smiling-eyes' },
    { character: 'ðŸ˜†', slug: 'grinning-squinting-face' },
    { character: 'ðŸ˜…', slug: 'grinning-face-with-sweat' },
    { character: 'ðŸ¤£', slug: 'rolling-on-the-floor-laughing' },
    { character: 'ðŸ˜‚', slug: 'face-with-tears-of-joy' },
    { character: 'ðŸ™‚', slug: 'slightly-smiling-face' },
    { character: 'ðŸ™ƒ', slug: 'upside-down-face' },
    { character: 'ðŸ˜‰', slug: 'winking-face' },
    { character: 'ðŸ˜Š', slug: 'smiling-face-with-smiling-eyes' },
    { character: 'ðŸ˜‡', slug: 'smiling-face-with-halo' },
    { character: 'ðŸ¥°', slug: 'smiling-face-with-hearts' },
    { character: 'ðŸ˜', slug: 'smiling-face-with-heart-eyes' },
    { character: 'ðŸ¤©', slug: 'star-struck' },
    { character: 'ðŸ˜˜', slug: 'face-blowing-a-kiss' },
    { character: 'ðŸ˜—', slug: 'kissing-face' },
    { character: 'ðŸ˜š', slug: 'kissing-face-with-closed-eyes' },
    { character: 'ðŸ˜™', slug: 'kissing-face-with-smiling-eyes' },
    { character: 'ðŸ˜‹', slug: 'face-savoring-food' },
    { character: 'ðŸ˜›', slug: 'face-with-tongue' },
    { character: 'ðŸ˜œ', slug: 'winking-face-with-tongue' },
    { character: 'ðŸ¤ª', slug: 'zany-face' },
    { character: 'ðŸ˜', slug: 'squinting-face-with-tongue' },
    { character: 'ðŸ¤‘', slug: 'money-mouth-face' },
    { character: 'ðŸ¤—', slug: 'hugging-face' },
    { character: 'ðŸ¤­', slug: 'face-with-hand-over-mouth' },
    { character: 'ðŸ¤«', slug: 'shushing-face' },
    { character: 'ðŸ¤”', slug: 'thinking-face' },
    { character: 'ðŸ¤', slug: 'zipper-mouth-face' },
    { character: 'ðŸ¤¨', slug: 'face-with-raised-eyebrow' },
    { character: 'ðŸ˜', slug: 'neutral-face' },
    { character: 'ðŸ˜‘', slug: 'expressionless-face' },
    { character: 'ðŸ˜¶', slug: 'face-without-mouth' },
    { character: 'ðŸ˜', slug: 'smirking-face' },
    { character: 'ðŸ˜’', slug: 'unamused-face' },
    { character: 'ðŸ™„', slug: 'face-with-rolling-eyes' },
    { character: 'ðŸ˜¬', slug: 'grimacing-face' },
    { character: 'ðŸ¤¥', slug: 'lying-face' },
    { character: 'ðŸ˜Œ', slug: 'relieved-face' },
    { character: 'ðŸ˜”', slug: 'pensive-face' },
    { character: 'ðŸ˜ª', slug: 'sleepy-face' },
    { character: 'ðŸ¤¤', slug: 'drooling-face' },
    { character: 'ðŸ˜´', slug: 'sleeping-face' },
    { character: 'ðŸ˜·', slug: 'face-with-medical-mask' },
    { character: 'ðŸ¤’', slug: 'face-with-thermometer' },
    { character: 'ðŸ¤•', slug: 'face-with-head-bandage' },
    { character: 'ðŸ¤¢', slug: 'nauseated-face' },
    { character: 'ðŸ¤®', slug: 'face-vomiting' },
    { character: 'ðŸ¤§', slug: 'sneezing-face' },
    { character: 'ðŸ¥µ', slug: 'hot-face' },
    { character: 'ðŸ¥¶', slug: 'cold-face' },
    { character: 'ðŸ¥´', slug: 'woozy-face' },
    { character: 'ðŸ˜µ', slug: 'dizzy-face' },
    { character: 'ðŸ¤¯', slug: 'exploding-head' },
    { character: 'ðŸ¤ ', slug: 'cowboy-hat-face' },
    { character: 'ðŸ¥³', slug: 'partying-face' },
    { character: 'ðŸ˜Ž', slug: 'smiling-face-with-sunglasses' },
    { character: 'ðŸ¤“', slug: 'nerd-face' },
    { character: 'ðŸ§', slug: 'face-with-monocle' },
    { character: 'ðŸ˜•', slug: 'confused-face' },
    { character: 'ðŸ˜Ÿ', slug: 'worried-face' },
    { character: 'ðŸ™', slug: 'slightly-frowning-face' },
    { character: 'â˜¹ï¸', slug: 'frowning-face' },
    { character: 'ðŸ˜®', slug: 'face-with-open-mouth' },
    { character: 'ðŸ˜¯', slug: 'hushed-face' },
    { character: 'ðŸ˜²', slug: 'astonished-face' },
    { character: 'ðŸ˜³', slug: 'flushed-face' },
    { character: 'ðŸ¥º', slug: 'pleading-face' },
    { character: 'ðŸ˜¦', slug: 'frowning-face-with-open-mouth' },
    { character: 'ðŸ˜§', slug: 'anguished-face' },
    { character: 'ðŸ˜¨', slug: 'fearful-face' },
    { character: 'ðŸ˜°', slug: 'anxious-face-with-sweat' },
    { character: 'ðŸ˜¥', slug: 'sad-but-relieved-face' },
    { character: 'ðŸ˜¢', slug: 'crying-face' },
    { character: 'ðŸ˜­', slug: 'loudly-crying-face' },
    { character: 'ðŸ˜±', slug: 'face-screaming-in-fear' },
    { character: 'ðŸ˜–', slug: 'confounded-face' },
    { character: 'ðŸ˜£', slug: 'persevering-face' },
    { character: 'ðŸ˜ž', slug: 'disappointed-face' },
    { character: 'ðŸ˜“', slug: 'downcast-face-with-sweat' },
    { character: 'ðŸ˜©', slug: 'weary-face' },
    { character: 'ðŸ˜«', slug: 'tired-face' },
    { character: 'ðŸ˜¤', slug: 'face-with-steam-from-nose' },
    { character: 'ðŸ˜¡', slug: 'pouting-face' },
    { character: 'ðŸ˜ ', slug: 'angry-face' },
    { character: 'ðŸ¤¬', slug: 'face-with-symbols-on-mouth' },
    { character: 'ðŸ˜ˆ', slug: 'smiling-face-with-horns' },
    { character: 'ðŸ‘¿', slug: 'angry-face-with-horns' },
    { character: 'ðŸ’€', slug: 'skull' },
    { character: 'â˜ ï¸', slug: 'skull-and-crossbones' },
    { character: 'ðŸ’©', slug: 'pile-of-poo' },
    { character: 'ðŸ¤¡', slug: 'clown-face' },
    { character: 'ðŸ‘¹', slug: 'ogre' },
    { character: 'ðŸ‘º', slug: 'goblin' },
    { character: 'ðŸ‘»', slug: 'ghost' },
    { character: 'ðŸ‘½', slug: 'alien' },
    { character: 'ðŸ‘¾', slug: 'alien-monster' },
    { character: 'ðŸ¤–', slug: 'robot' },
    { character: 'ðŸ˜º', slug: 'grinning-cat' },
    { character: 'ðŸ˜¸', slug: 'grinning-cat-with-smiling-eyes' },
    { character: 'ðŸ˜¹', slug: 'cat-with-tears-of-joy' },
    { character: 'ðŸ˜»', slug: 'smiling-cat-with-heart-eyes' },
    { character: 'ðŸ˜¼', slug: 'cat-with-wry-smile' },
    { character: 'ðŸ˜½', slug: 'kissing-cat' },
    { character: 'ðŸ™€', slug: 'weary-cat' },
    { character: 'ðŸ˜¿', slug: 'crying-cat' },
    { character: 'ðŸ˜¾', slug: 'pouting-cat' },
    { character: 'ðŸ™ˆ', slug: 'see-no-evil-monkey' },
    { character: 'ðŸ™‰', slug: 'hear-no-evil-monkey' },
    { character: 'ðŸ™Š', slug: 'speak-no-evil-monkey' },
    { character: 'ðŸ’‹', slug: 'kiss-mark' },
    { character: 'ðŸ’Œ', slug: 'love-letter' },
    { character: 'ðŸ’˜', slug: 'heart-with-arrow' },
    { character: 'ðŸ’', slug: 'heart-with-ribbon' },
    { character: 'ðŸ’–', slug: 'sparkling-heart' },
    { character: 'ðŸ’—', slug: 'growing-heart' },
    { character: 'ðŸ’“', slug: 'beating-heart' },
    { character: 'ðŸ’ž', slug: 'revolving-hearts' },
    { character: 'ðŸ’•', slug: 'two-hearts' },
    { character: 'ðŸ’Ÿ', slug: 'heart-decoration' },
    { character: 'â£ï¸', slug: 'heart-exclamation' },
    { character: 'ðŸ’”', slug: 'broken-heart' },
    { character: 'â¤ï¸', slug: 'red-heart' },
    { character: 'ðŸ§¡', slug: 'orange-heart' },
    { character: 'ðŸ’›', slug: 'yellow-heart' },
    { character: 'ðŸ’š', slug: 'green-heart' },
    { character: 'ðŸ’™', slug: 'blue-heart' },
    { character: 'ðŸ’œ', slug: 'purple-heart' },
    { character: 'ðŸ¤Ž', slug: 'brown-heart' },
    { character: 'ðŸ–¤', slug: 'black-heart' },
    { character: 'ðŸ¤', slug: 'white-heart' },
    { character: 'ðŸ’¯', slug: 'hundred-points' },
    { character: 'ðŸ’¢', slug: 'anger-symbol' },
    { character: 'ðŸ’¥', slug: 'collision' },
    { character: 'ðŸ’«', slug: 'dizzy' },
    { character: 'ðŸ’¦', slug: 'sweat-droplets' },
    { character: 'ðŸ’¨', slug: 'dashing-away' },
    { character: 'ðŸ•³ï¸', slug: 'hole' },
    { character: 'ðŸ’£', slug: 'bomb' },
    { character: 'ðŸ’¬', slug: 'speech-balloon' },
    { character: 'ðŸ‘ï¸â€ðŸ—¨ï¸', slug: 'eye-in-speech-bubble' },
    { character: 'ðŸ—¨ï¸', slug: 'left-speech-bubble' },
    { character: 'ðŸ—¯ï¸', slug: 'right-anger-bubble' },
    { character: 'ðŸ’­', slug: 'thought-balloon' },
    { character: 'ðŸ’¤', slug: 'zzz' },
    { character: 'ðŸ§‘â€ðŸ¦°', slug: 'person-red-hair' },
    { character: 'ðŸ§‘â€ðŸ¦±', slug: 'person-curly-hair' },
    { character: 'ðŸ§‘â€ðŸ¦³', slug: 'person-white-hair' },
    { character: 'ðŸ§‘â€ðŸ¦²', slug: 'person-bald' },
    { character: 'ðŸ§”', slug: 'bearded-person' },
    { character: 'ðŸ‘µ', slug: 'old-woman' },
    { character: 'ðŸ‘´', slug: 'old-man' },
    { character: 'ðŸ‘¶', slug: 'baby' },
    { character: 'ðŸ‘§', slug: 'girl' },
    { character: 'ðŸ‘¦', slug: 'boy' },
    { character: 'ðŸ‘©', slug: 'woman' },
    { character: 'ðŸ‘¨', slug: 'man' },
    { character: 'ðŸ§‘', slug: 'person' },
    { character: 'ðŸ‘©â€âš•ï¸', slug: 'woman-health-worker' },
    { character: 'ðŸ‘¨â€âš•ï¸', slug: 'man-health-worker' },
    { character: 'ðŸ‘©â€ðŸŽ“', slug: 'woman-student' },
    { character: 'ðŸ‘¨â€ðŸŽ“', slug: 'man-student' },
    { character: 'ðŸ‘©â€ðŸ«', slug: 'woman-teacher' },
    { character: 'ðŸ‘¨â€ðŸ«', slug: 'man-teacher' },
    { character: 'ðŸ‘©â€âš–ï¸', slug: 'woman-judge' },
    { character: 'ðŸ‘¨â€âš–ï¸', slug: 'man-judge' },
    { character: 'ðŸ‘©â€ðŸŒ¾', slug: 'woman-farmer' },
    { character: 'ðŸ‘¨â€ðŸŒ¾', slug: 'man-farmer' },
    { character: 'ðŸ‘©â€ðŸ³', slug: 'woman-cook' },
    { character: 'ðŸ‘¨â€ðŸ³', slug: 'man-cook' },
    { character: 'ðŸ‘©â€ðŸ”§', slug: 'woman-mechanic' },
    { character: 'ðŸ‘¨â€ðŸ”§', slug: 'man-mechanic' },
    { character: 'ðŸ‘©â€ðŸ­', slug: 'woman-factory-worker' },
    { character: 'ðŸ‘¨â€ðŸ­', slug: 'man-factory-worker' },
    { character: 'ðŸ‘©â€ðŸ’¼', slug: 'woman-office-worker' },
    { character: 'ðŸ‘¨â€ðŸ’¼', slug: 'man-office-worker' },
    { character: 'ðŸ‘©â€ðŸ”¬', slug: 'woman-scientist' },
    { character: 'ðŸ‘¨â€ðŸ”¬', slug: 'man-scientist' },
    { character: 'ðŸ‘©â€ðŸ’»', slug: 'woman-technologist' },
    { character: 'ðŸ‘¨â€ðŸ’»', slug: 'man-technologist' },
    { character: 'ðŸ‘©â€ðŸŽ¤', slug: 'woman-singer' },
    { character: 'ðŸ‘¨â€ðŸŽ¤', slug: 'man-singer' },
    { character: 'ðŸ‘©â€ðŸŽ¨', slug: 'woman-artist' },
    { character: 'ðŸ‘¨â€ðŸŽ¨', slug: 'man-artist' },
    { character: 'ðŸ‘©â€âœˆï¸', slug: 'woman-pilot' },
    { character: 'ðŸ‘¨â€âœˆï¸', slug: 'man-pilot' },
    { character: 'ðŸ‘©â€ðŸš€', slug: 'woman-astronaut' },
    { character: 'ðŸ‘¨â€ðŸš€', slug: 'man-astronaut' },
    { character: 'ðŸ‘©â€ðŸš’', slug: 'woman-firefighter' },
    { character: 'ðŸ‘¨â€ðŸš’', slug: 'man-firefighter' },
    { character: 'ðŸ§•', slug: 'woman-with-headscarf' },
    { character: 'ðŸ‘³â€â™€ï¸', slug: 'woman-wearing-turban' },
    { character: 'ðŸ‘³â€â™‚ï¸', slug: 'man-wearing-turban' },
    { character: 'ðŸ‘²', slug: 'man-with-chinese-cap' },
    { character: 'ðŸ§‘â€ðŸ¦¼', slug: 'person-in-motorized-wheelchair' },
    { character: 'ðŸ§‘â€ðŸ¦½', slug: 'person-in-manual-wheelchair' },
    { character: 'ðŸ‘¼', slug: 'baby-angel' },
    { character: 'ðŸŽ…', slug: 'Santa-Claus' },
    { character: 'ðŸ¤¶', slug: 'Mrs-Claus' },
    { character: 'ðŸ¦¸â€â™€ï¸', slug: 'woman-superhero' },
    { character: 'ðŸ¦¸â€â™‚ï¸', slug: 'man-superhero' },
    { character: 'ðŸ¦¹â€â™€ï¸', slug: 'woman-supervillain' },
    { character: 'ðŸ¦¹â€â™‚ï¸', slug: 'man-supervillain' },
    { character: 'ðŸ§™â€â™€ï¸', slug: 'woman-mage' },
    { character: 'ðŸ§™â€â™‚ï¸', slug: 'man-mage' },
    { character: 'ðŸ§šâ€â™€ï¸', slug: 'woman-fairy' },
    { character: 'ðŸ§šâ€â™‚ï¸', slug: 'man-fairy' },
    { character: 'ðŸ§›â€â™€ï¸', slug: 'woman-vampire' },
    { character: 'ðŸ§›â€â™‚ï¸', slug: 'man-vampire' },
    { character: 'ðŸ§œâ€â™€ï¸', slug: 'mermaid' },
    { character: 'ðŸ§œâ€â™‚ï¸', slug: 'merman' },
    { character: 'ðŸ§â€â™€ï¸', slug: 'woman-elf' },
    { character: 'ðŸ§â€â™‚ï¸', slug: 'man-elf' },
    { character: 'ðŸ§žâ€â™€ï¸', slug: 'woman-genie' },
    { character: 'ðŸ§žâ€â™‚ï¸', slug: 'man-genie' },
    { character: 'ðŸ§Ÿâ€â™€ï¸', slug: 'woman-zombie' },
    { character: 'ðŸ§Ÿâ€â™‚ï¸', slug: 'man-zombie' },
    { character: 'ðŸ‘­', slug: 'women-holding-hands' },
    { character: 'ðŸ‘«', slug: 'man-and-woman-holding-hands' },
    { character: 'ðŸ‘¬', slug: 'men-holding-hands' },
    { character: 'ðŸ’', slug: 'kiss' },
    { character: 'ðŸ‘©â€â¤ï¸â€ðŸ’‹â€ðŸ‘¨', slug: 'woman-kiss-man' },
    { character: 'ðŸ‘¨â€â¤ï¸â€ðŸ’‹â€ðŸ‘¨', slug: 'man-kiss-man' },
    { character: 'ðŸ‘©â€â¤ï¸â€ðŸ’‹â€ðŸ‘©', slug: 'woman-kiss-woman' },
    { character: 'ðŸ’‘', slug: 'couple-with-heart' },
    { character: 'ðŸ‘©â€â¤ï¸â€ðŸ‘¨', slug: 'woman-heart-man' },
    { character: 'ðŸ‘¨â€â¤ï¸â€ðŸ‘¨', slug: 'man-heart-man' },
    { character: 'ðŸ‘©â€â¤ï¸â€ðŸ‘©', slug: 'woman-heart-woman' },
    { character: 'ðŸ‘ª', slug: 'family' },
    { character: 'ðŸ‘¨â€ðŸ‘©â€ðŸ‘¦', slug: 'family-man-woman-boy' },
    { character: 'ðŸ‘¨â€ðŸ‘©â€ðŸ‘§', slug: 'family-man-woman-girl' },
    { character: 'ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦', slug: 'family-man-woman-girl-boy' },
    { character: 'ðŸ‘¨â€ðŸ‘©â€ðŸ‘¦â€ðŸ‘¦', slug: 'family-man-woman-boy-boy' },
    { character: 'ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘§', slug: 'family-man-woman-girl-girl' },
    { character: 'ðŸ‘¨â€ðŸ‘¨â€ðŸ‘¦', slug: 'family-man-man-boy' },
    { character: 'ðŸ‘¨â€ðŸ‘¨â€ðŸ‘§', slug: 'family-man-man-girl' },
    { character: 'ðŸ‘¨â€ðŸ‘¨â€ðŸ‘§â€ðŸ‘¦', slug: 'family-man-man-girl-boy' },
    { character: 'ðŸ‘¨â€ðŸ‘¨â€ðŸ‘¦â€ðŸ‘¦', slug: 'family-man-man-boy-boy' },
    { character: 'ðŸ‘¨â€ðŸ‘¨â€ðŸ‘§â€ðŸ‘§', slug: 'family-man-man-girl-girl' },
    { character: 'ðŸ‘©â€ðŸ‘©â€ðŸ‘¦', slug: 'family-woman-woman-boy' },
    { character: 'ðŸ‘©â€ðŸ‘©â€ðŸ‘§', slug: 'family-woman-woman-girl' },
    { character: 'ðŸ‘©â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦', slug: 'family-woman-woman-girl-boy' },
    { character: 'ðŸ‘©â€ðŸ‘©â€ðŸ‘¦â€ðŸ‘¦', slug: 'family-woman-woman-boy-boy' },
    { character: 'ðŸ‘©â€ðŸ‘©â€ðŸ‘§â€ðŸ‘§', slug: 'family-woman-woman-girl-girl' },
    { character: 'ðŸ‘¨â€ðŸ‘¦', slug: 'family-man-boy' },
    { character: 'ðŸ‘¨â€ðŸ‘¦â€ðŸ‘¦', slug: 'family-man-boy-boy' },
    { character: 'ðŸ‘¨â€ðŸ‘§', slug: 'family-man-girl' },
    { character: 'ðŸ‘¨â€ðŸ‘§â€ðŸ‘§', slug: 'family-man-girl-girl' },
    { character: 'ðŸ‘©â€ðŸ‘¦', slug: 'family-woman-boy' },
    { character: 'ðŸ‘©â€ðŸ‘¦â€ðŸ‘¦', slug: 'family-woman-boy-boy' },
    { character: 'ðŸ‘©â€ðŸ‘§', slug: 'family-woman-girl' },
    { character: 'ðŸ‘©â€ðŸ‘§â€ðŸ‘§', slug: 'family-woman-girl-girl' },
    { character: 'ðŸš¶', slug: 'person-walking' },
    { character: 'ðŸƒ', slug: 'person-running' },
    { character: 'ðŸ’ƒ', slug: 'woman-dancing' },
    { character: 'ðŸ•º', slug: 'man-dancing' },
    { character: 'ðŸ‘¯', slug: 'people-with-bunny-ears' },
    { character: 'ðŸ§–', slug: 'person-in-steamy-room' },
    { character: 'ðŸ§—', slug: 'person-climbing' },
    { character: 'ðŸ¤º', slug: 'person-fencing' },
    { character: 'ðŸ‡', slug: 'horse-racing' },
    { character: 'â›·ï¸', slug: 'skier' },
    { character: 'ðŸ‚', slug: 'snowboarder' },
    { character: 'ðŸŒï¸', slug: 'person-golfing' },
    { character: 'ðŸ„', slug: 'person-surfing' },
    { character: 'ðŸš£', slug: 'person-rowing-boat' },
    { character: 'ðŸŠ', slug: 'person-swimming' },
    { character: 'â›¹ï¸', slug: 'person-bouncing-ball' },
    { character: 'ðŸ‹ï¸', slug: 'person-lifting-weights' },
    { character: 'ðŸš´', slug: 'person-biking' },
    { character: 'ðŸšµ', slug: 'person-mountain-biking' },
    { character: 'ðŸ¤¸', slug: 'person-cartwheeling' },
    { character: 'ðŸ¤¼', slug: 'people-wrestling' },
    { character: 'ðŸ¤½', slug: 'person-playing-water-polo' },
    { character: 'ðŸ¤¾', slug: 'person-playing-handball' },
    { character: 'ðŸ¤¹', slug: 'person-juggling' },
    { character: 'ðŸ§˜', slug: 'person-in-lotus-position' },
    { character: 'ðŸ›€', slug: 'person-taking-bath' },
    { character: 'ðŸ›Œ', slug: 'person-in-bed' },
    { character: 'ðŸ§‘â€ðŸ¤â€ðŸ§‘', slug: 'people-holding-hands' },
    { character: 'ðŸ‘­', slug: 'women-holding-hands' },
    { character: 'ðŸ‘«', slug: 'woman-and-man-holding-hands' },
    { character: 'ðŸ‘¬', slug: 'men-holding-hands' }, 
    { character: 'ðŸ†', slug: 'eggplant' }
];


let currentPage = 1;
const emojisPerPage = 10;

function toggleEmojiPanel() {
    const container = document.getElementById('emoji-container');
    container.style.display = container.style.display === 'none' ? 'block' : 'none';

    if (container.style.display === 'block') {
        displayEmojis(allEmojis, emojisPerPage);
    }
}

function displayEmojis(emojis, limit = 10, page = 1) {
    const container = document.getElementById('emoji-grid');
    container.innerHTML = '';  // Clear previous results

    const start = (page - 1) * limit;
    const end = page * limit;
    const pageEmojis = emojis.slice(start, end);

    if (Array.isArray(pageEmojis) && pageEmojis.length > 0) {
        pageEmojis.forEach(emoji => {
            const emojiElement = document.createElement('span');
            emojiElement.textContent = emoji.character;
            emojiElement.title = emoji.slug;  // Showing the emoji name on hover
            emojiElement.style.cursor = 'pointer';
            emojiElement.onclick = () => insertEmoji(emoji.character);
            container.appendChild(emojiElement);
        });
    } else {
        container.textContent = 'No emojis found. Try a different search!';
    }
}

function searchEmojis() {
    const searchTerm = document.getElementById('emoji-search').value.toLowerCase();
    const filteredEmojis = allEmojis.filter(emoji =>
        emoji.slug.includes(searchTerm)
    );
    displayEmojis(filteredEmojis);
}

function insertEmoji(emoji) {
    const textarea = document.getElementById('content');
    const start = textarea.selectionStart;
    const end = textarea.selectionEnd;
    const text = textarea.value;
    const before = text.substring(0, start);
    const after = text.substring(end, text.length);

    textarea.value = before + emoji + after;
    textarea.selectionStart = textarea.selectionEnd = start + emoji.length;
    textarea.focus();  // Keep focus on the textarea
}

function nextPage() {
    const totalPages = Math.ceil(allEmojis.length / emojisPerPage);
    if (currentPage < totalPages) {
        currentPage++;
        displayEmojis(allEmojis, emojisPerPage, currentPage);
    }
}

function prevPage() {
    if (currentPage > 1) {
        currentPage--;
        displayEmojis(allEmojis, emojisPerPage, currentPage);
    }
}

</script>
